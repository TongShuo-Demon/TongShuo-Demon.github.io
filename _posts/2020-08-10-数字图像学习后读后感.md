---
title: 数字图像学后感
description: 学习数字图像，加深对opencv的一些书籍的理解
categories:
 - opencv
tags:
---



## 前言

 初步写完比赛代码后,看了机器学习看了数字图像处理还有其他的一些乱七八糟的东西,然后又觉得如果只是看完没有总结回顾那就是很失败的一件事情,所以就想写一写自己的读后感.
 我自己看得是B站的[视频](https://www.bilibili.com/video/BV1St411w7Yd?from=search&seid=8121667692066546831),这是西安电子科技大学的任老师讲解的,个人感觉讲的比较清爽,很有举重若轻的感觉,下面写写主要内容.

 ## 数字图像基础内容

 ### 图像

 1,对图像的简单定义就是图像是一个二维的亮度函数；数学的表示方法用一个公式就是

```math
I=f(x,y,λ,t)
```
其中I是强度；t是时间；λ是波长．

2,数字图像的定义是：

```math
I=f(m,n)
```
 I就是灰度值表示了，m,n表示坐标整数．
 一张完整的数字图像就是一个矩阵．
图像的**数字化**是将模拟图像经过离散化,从而得到数字图像,他的步骤分为**采样和量化和编码,**

**采样**就是将在空间上连续的图像转换成离散的采样点(像素)的操作.采样的间隔太小,则增大数据量;太大,会发生信息的混叠,导致细节没法看.

**量化**就是把采样所得的各像素的灰度值从模拟量到离散量的转换.量化级数越多质量越好.

**编码**就是对数据进行PCM编码,灰度级表示像素明暗程度的整数量.比如,256灰度级,8bi的量码.chuli

 图像的分辨率分为图像分辨率和显示分辨率;像素深度指存储每个像素所用的位数;位面的数量指的是一副图像的位面数量相当于组成图像的像素矩阵维数,比如灰度图像是一个位面.

### 像素间的基本关系

1,像素的邻域与临接

邻域分为4邻域 对角邻域 和 8邻域;
邻接分为4邻接 8邻接 m邻接

2,连通性
4-通路, 8-通路, m-通路

3,距离度量
欧氏距离和D4距离(城市距离)

### 图像文件格式

1,数字图像类型
静态图像分为矢量图和位图
位图分为线画稿 灰度图像 索引颜色图像 真彩色图像

2,图像文件格式
每种图像文件均有一个文件头,文件头后面就是图像数据;
文件头包含数据类型 文件制作者 制作时间 版本号 文件大小;
图像数据涉及到文件压缩方式和存储效率;
互联网使用GIF JPG PNG；
印刷用 TIF JPG TAG PCX ；
国际标准 TIF JPG；

bmp文件分为位图文件头 位图信息头 调色板  实际的位图数据


## 数字图像处理
### 直方图变换
1,灰度直方图
直方表示数字图像中每一灰度级像素出现的频次,
高灰度像素占了绝大部分,则图像偏亮;
直方图反映了图像的清晰程度,直方图均匀分布时候,图像最清晰.

2,直方图均衡化
直方图修正是通过灰度映射函数,将原灰度直方图改造成所希望的直方图,
均衡化后，直方图是平直的。

3，直方图规定化
定义： 修改一幅图像的直方图，使得它与另外一副图像的直方图匹配或具有一种预先规定的函数形状。

目标：突出感兴趣的灰度范围，使图像质量改善。

### 灰度变换
为了解决曝光不足或者过度等产生对比度不足弊病。

对比度是最白与最黑亮度单位的相除值。

1，线性灰度变换
加常数：压缩动态范围，降低对比度

乘常数：
```math
g(x,y)=c*f(x,y)
```

2,灰度线性灰度变换
目标：将感兴趣的灰度范围线性拓展，相对抑制不感兴趣的灰度范围。
削波 阈值化 灰度窗口变换

3，非线性灰度变换
有对数变换 指数变换 幂函数 LUT(look up table)

### 图像运算

算术运算:

1,加法

```math
C(x,y)=A(x,y)+B(x,y)
```
2,减法
```math
C(x,y)=A(x,y)-B(x,y)
```
3,乘法
```math
C(x,y)=A(x,y)*B(x,y)
```

逻辑运算:

1,异或运算
```math
g(x,y)=f(x,y)⊕h(x,y)
```

2,或运算
```math
g(x,y)=f(x,y) ∨ h(x,y)
```
3,与运算符
```math
g(x,y)=f(x,y) and  h(x,y)
```
### 几何变换

图像生成过程中会产生几何失真,几何失真分为系统失真和非系统失真.系统失真是有规律的,可以预测的.非系统失真是随机的.
几何变换不改变像素值,仅改变像素所在位置.

常用的基本几何变换:
1,平移变换

2,镜像变换包括水平镜像和垂直镜像

3,旋转变换
会产生两个问题
像素的排列不是按照原有的相邻关系,相邻像素之间只有8个方向;
会出现很多的空洞点.

解决方法就是:采用差插值法填充.

4,放缩便变换
分为缩小和放大
缩小是让信息量变少,放大则会出现马赛克现象

5,拉伸变换


灰度级插值

目标:利用临域的像素估计新的像素

方法有:
最近邻插值法:重复最临近点;双线性插值和高阶插值.


## 数字图像图像处理的数学基础

### 线性系统理论

1,线性系统:满足其次性和叠加性,如下所示公式

```math
ax -> ay

x1+x2 -> y1+y2
```

2,线性空间不变系统:如果系统响应与输入脉冲的中心位置无关

3,卷积

4,调谐信号分析

5,常用的函数
矩形脉冲 三角脉冲 高斯函数 冲击函数 阶跃函数

### 常用矩阵知识

列矩阵 行矩阵 同型矩阵  n阶方阵 对角矩阵 单位矩阵

矩阵的加减乘除

## 正交变换

任何图像都可以分解为基图像之和,基图像是相互正交的,图像变换的本质是寻找合适的基图像表达图像.广泛应用于图像增强,复原,编码,描述和特征提取.
正交变换分为三类正余弦变换 方波型变换 基于特征向量的变换.

1,一维正交变换分为线性变换和酉变换

2,二位正交变换
二维离散线性变换 可分离变换核 对称变换核 

3,任何以矩阵表示的图像都可以看做是加权系数为图像像素值的一系列加权和


### 离散傅立叶变换

离散傅立叶变换是最经典的一种正弦/余弦正交变换,建立了空间域和频域之间的联系

1,二维傅立叶变换的性质(DFT):
可分离性 线性 共轭对称性 旋转性 比例变换性 
parseval定理(能量保持定理) 相关定理 卷积定理

2,快速傅立叶变换FFT:

3,傅立叶变换的应用
特点: 反映频率特性 将卷积运算转化为乘积运算
在滤波中应用,中间为低频部分,越靠外频率越高;
在图像压缩中应用,高频反映细节,低频反映景物概貌;

其他正交变换

1,余弦变换()
一维DCT(离散余弦变换)

2,二维余弦变换

基本思想:形成二维偶函数,先做水平镜像,在做垂直镜像;

余弦变换的性质:可分离性 ;应用范围主要是图像压缩(jpeg中用到),高频压缩多一些,低频压缩多一些.

3,沃尔什变换
余弦变换的基函数是余弦性函数;沃尔什变换是+1和-1的基本函数的级数展开而成,满足完备正交特性,属于方波型正交变换.
二维沃尔什变换可用于图像压缩.

4,哈达玛矩阵
由哈达玛变换核组成的矩阵是一个对称矩阵.


## 图像增强

目的: 1,改善图像视觉效果,提高图像清晰度;平滑 降噪使图像清晰;2,有利于后期图像处理,锐化突出轮廓.

分类:
[![UXyzwV.png](https://s1.ax1x.com/2020/07/24/UXyzwV.png)](https://imgchr.com/i/UXyzwV)

图像噪声:在图像摄取或者传输过程中所受到的随机干扰信号;

噪声特性具有椒盐噪声 脉冲噪声 高斯噪声 

### 空域平滑和图像平滑

图像平滑目的: 消除或尽量减少噪声的影响,改善图像的质量.本就是低通滤波

模板运算的数学含义是一个卷积运算.

平滑模板(Box模板):

$$
1/9 *\left[
 \begin{matrix}
  1 & 1 & 1\\
  1 & 1 & 1 \\
   1 & 1 & 1  \\
  \end{matrix} 
\right]
$$
高斯平滑模板:
box模板只考虑了邻域点的作用,没有考虑到各点位置的影响;而高斯平滑滤波引入加权系数,离某点越近的点对该点影响越大.
$$
1/16 *\left[
 \begin{matrix}
  1 & 2 & 1\\
  2 & 4 & 2 \\
   1 & 2 & 1  \\
  \end{matrix} 
\right]
$$




其他的平滑模板:
$$
H1=1/10 *\left[
 \begin{matrix}
  1 &1 & 1\\
  1 & 2 & 1 \\
   1 & 1 & 1  \\
  \end{matrix} 
\right]
$$

$$
H2=1/8 *\left[
 \begin{matrix}
  1 &1 & 1\\
  1 & 0 & 1 \\
   1 & 1 & 1  \\
  \end{matrix} 
\right]
$$

$$
H3=1/2 *\left[
 \begin{matrix}
  0 & 1/4 & 0\\
  1/4 & 1 & 1/4 \\
   0 & 1/4 & 0  \\
  \end{matrix} 
\right]
$$
中值滤波:是指以某点为中心的小窗口内所有像素灰度从大到小的顺序排列,将中间值作为(x,y)的灰度值. 是一种典型的低通滤波器,特点就是保护图像边缘的同时去除噪声.

### 图像锐化

锐化是通过增强高频分量来减少图像中的模糊;
目的: 增强图像细节边缘和轮廓,灰度反差增强,便于后期对目标的识别和处理.
同时也增噪声.

**梯度法**: 梯度的方向是图像中最大变化率的方向,梯度的幅度比例于相邻像素的灰度级差值.

罗伯特梯度算子 

**Laplacian算子**

**高通滤波**:图像边缘与高频分量相对应,高通滤波器抑制低频分量,从而达到图像锐化的目的.

** 模板匹配**:将8个方向,大小为3*3的模板,顺序作用于同一图像窗口,并对结果进行排序,将最大的结果值作为窗口中心像素锐化输出.

1,sobel算子
$$
Vx=[f(x-1,y-1),2f(x-1,y),f(x-1,y+1)]-[f(x+1,y-1)+2f(x+1,y)+f(x+1,y+1)]
$$


锐化的边缘信息增强

2,Prewitt算子

***总结***: 模板匹配除了能增强图像边缘外,还具有平滑噪声的优点,总体上优于梯度和Laplacian算子.

突变型细节,通过一阶微分的极大值点,二阶微分的过0点可以检测出来;

细线型细节,通过一阶微分的过零点,二阶微分的极小值点均可以检测出来;

渐变型细节,一般很难检测出来;


### 彩色增强技术

#### 伪彩色处理

宗旨就是:将灰度图像的不同灰度级按照线性和非线性映射成不同的彩色,以提高图像内容的可辨识度.

灰度分层法 灰度变换法


#### 假彩色处理

假彩色处理的对象是三基色描绘的自然图像或同一景物的多光谱图像

### 频域增强

***低通滤波***:理想圆形低通滤波器,巴特沃斯低通滤波器,高斯低通滤波器

***高通滤波器***:理想高通滤波器, 巴特沃斯高通滤波器,高斯高通滤波器,指数高通滤波器


## 图像分割

***图像分析步骤***: 

1,把图像分割成不同的区域,或把不同的目标分开;

2,找出各个区域的特征;

3,识别图像中的内容,或对图像进行分类;

4,给出结论


***基本原理***:
图像分割是按照某些特性(灰度级 频谱 纹理等)将图像划分成一些区域,在这些区域内其特性是相同的或者均匀的,两个相邻区域彼此特性是不同的,其间存在边缘或边界.

图像分割的本质就是图像像素按照不同的特性进行分类的过程.

两个基本特性:

不连续性---区域之间

相似性---区域内部

### 灰度阈值分割

1,基本阈值分割

单一全局门限  双全局门限 基本自适应门限

### 基于边界的图像分割

基于边界的图像分割技术是基于灰度不连续性进行的分割方法

1 边缘检测

利用梯度 差分 拉普拉斯算子及各种高通滤波处理方法进行图像锐化处理,增强图像边缘.有梯度算子 roberts算子 Prewit算子 Sobel算子

2 边缘连接

局部处理方法   

Hough变换的基本思想:对边界上的N个点的点集,找出共线的点和直线方程.


### 基于区域的图像分割

门限分割利用了像素灰度分布特性

边界分割考虑了区域边界的灰度不连续性

基于 区域的分割直接寻找区域为基础的分割技术

1,区域生长法 

基本方法: 以一组""种子"点开始,将与种子性质相似(如灰度等级)的邻域像素附加到生长区域的每个种子上.


2,区域分割与合并

算法实现:

对图像中灰度级不同的区域,均分为四个子区域;

若相邻的子区域所有像素的灰度级相同,则将其合并;

反复上两步操作,直至不再有新的分裂与合为止.

### 其他分割技术

模板匹配 

基于数学形态学图像分割

基于纹理的图像分割

彩色图像分割



## 数学形态学图像处理

形态学是法国和德国的科学家在研究颜色结构时建立的一门学科.他的用途主要是获取拓扑和结构信息,他通过物体和结构元素的相互作用,得到物体根本质的形态信息.

### 集合论基本概念

该部分主要义教育阶段知识

### 腐蚀与膨胀运算

#### 膨胀
[![UjfWJP.md.png](https://s1.ax1x.com/2020/07/24/UjfWJP.md.png)](https://imgchr.com/i/UjfWJP)

#### 腐蚀

[![UjfNI1.md.png](https://s1.ax1x.com/2020/07/24/UjfNI1.md.png)](https://imgchr.com/i/UjfNI1)

膨胀和腐蚀运算的对偶性 

膨胀运算具有互换性,腐蚀运算不具有互换性

膨胀和腐蚀具有组合性


### 开运算和闭运算

腐蚀和膨胀的缺点是改变了原目标物的大小.

#### 开运算
开运算是先进行腐蚀和膨胀;

作用就是: 消除细小对象;在细小处粘连处分离对象;在不改变形状的前提下,平滑对象的边缘.

#### 闭运算

闭运算是先膨胀和腐蚀;

作用就是: 填充对象内细小空洞;连接邻近对象;在不明显改变面积的前提下,平滑对象的边缘.

开运算和闭运算也是对偶运算


### 二值数学形态学基本运算

形态滤波,图像的边缘提取 ,区域填充,击中击不中变换




## 西电样题

一、 什么是图像？数学上如何表示？各参数表示什么含义？

二． 基本的图像处理系统包括哪几部分？

三、 请简单阐述人眼视觉特性

四、 图像邻域是如何定义的？ 4 邻域、 8 邻域、对角邻域分别包含哪些像素？

五、 什么是调色板？有什么作用？

六、 8 位灰度级(256 个灰度级)的图像如下图表示，绘制其直方图，并说明该图像的特点，采用何种图像处理级数，能改善该图像视觉质量。

[![UjosUJ.md.png](https://s1.ax1x.com/2020/07/24/UjosUJ.md.png)](https://imgchr.com/i/UjosUJ)

[![Ujo2gx.md.png](https://s1.ax1x.com/2020/07/24/Ujo2gx.md.png)](https://imgchr.com/i/Ujo2gx)

